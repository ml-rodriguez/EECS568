\documentclass[12pt]{article}
\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
\usepackage{amsmath, algorithmic, color, multicol}
\usepackage{subfigure}


\title{Answers to Problem Set 3}
\author{
	Lauren Hinkle (lhinkle)\\
	Pedro d'Aquino (pdaquino)\\
	Robert Goeddel (rgoeddel)}

\begin{document}
\maketitle
\pagebreak

\section{FastSLAM}

\paragraph{A}
Starting with an existing EKF...
\subparagraph{i}
After first observation update, you need to grow the covariance matrix to
be $7 \times 7$, but we don't expect the covariances of the existing matrix
to change. We do \emph{not} apply the normal Kalman gain equations. Instead,
we add rows to $J_x^f$. % XXX What is f?
In this case, we have observations $(r_1, \theta_1)$ that can be projected
into $(x,y)$ space from position $(x_0, y_0, \theta_0)$.
XXX % XXX WARNING, stuff here needs to be written

$K = \Sigma_x J_x^T(J_x \Sigma_x J_x^T + \Sigma_z)^{-1} $ \\
$\Sigma_z = \left[ \begin{array}{c c}
3 & 0 \\
0 & 1 \\
\end{array} \right]$ \\
$x' = x + Kr$ \\
$\Sigma_x' = (I - KJ_x) \Sigma_x$ \\

\subparagraph{ii}
After second observation update (\emph{Note: additional primes denote
    later state}).
$K' = \Sigma_x' J_{x'}^T(J_{x'} \Sigma_x' J_{x'}^T + \Sigma_z)^{-1} $ \\
$x'' = x' + K'r'$ \\
$\Sigma_x'' = (I - K'J_{x'}) \Sigma_x'$ \\

\subparagraph{iii}

update 1:
x =
% 3
% 2
% pi
% 12
% 15
% 3
% -8

sigma = 
%     4.0000     1.0000     2.0000     1.0000     1.0000     1.0000    -2.4000
%     1.0000     6.0000     3.0000     1.0000     2.0000     6.0000    -3.1000
%     2.0000     3.0000     4.0000     1.0000     2.0000     3.0000    -4.2000
%     1.0000     1.0000     1.0000     8.0000     1.0000     1.0000    -1.1000
%     1.0000     2.0000     2.0000     1.0000    10.0000     2.0000    -2.1000
%     1.0000     6.0000     3.0000     1.0000     2.0000   106.0000    -3.1000
%    -2.4000    -3.1000    -4.2000    -1.1000    -2.1000    -3.1000     7.4400

update 2:

x =
%   2.9491
%    2.4274
%    3.1835
%   12.0334
%   15.0733
%    4.9686
%   -8.3047


sigma =
%  -0.94257   -1.31200   -1.67459   -0.44288   -0.84733    1.99979    1.92842
%   -1.31200   -3.66459   -2.81899   -0.82796   -1.61869   -4.08324    4.19280
%   -1.67459   -2.81899   -3.10468   -0.84299   -1.62200    1.72981    3.82657
%   -0.44288   -0.82796   -0.84299   -0.23243   -0.44867    0.14965    1.07966
%   -0.84733   -1.61869   -1.62200   -0.44867   -0.86667    0.15698    2.09402
%    1.99979   -4.08324    1.72981    0.14965    0.15698  -29.89266    1.54348
%    1.92842    4.19280    3.82657    1.07966    2.09402    1.54348   -5.18331


\end{document}
